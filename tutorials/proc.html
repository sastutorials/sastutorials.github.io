---
layout: default
author: Anna
title: SAS procedures
subtitle: Learn about the PROC step beyond printing, for sorting and summarising your data.
---

<html>

<body class="vscode-body vscode-light">

    <br>
    <h2 id="learning-objectives">Learning Objectives</h2><br>
    <ul>
        <li>
            <p>Knowing and knowing how to use Proc Means</p>
        </li>
        <li>
            <p>Sorting</p>
        </li>
        <li>
            <p>How to see the results and understand them</p>
        </li>
    </ul>
    <br>
    <h2 id="structure">Structure</h2>
    <p><a href="#sect1">
            <h3>1. Proc Means</h3>
        </a>
        <a href="subsect1">
            <h5>Default output</h5>
        </a>
        <a href="subsect2">
            <h5>Sum</h5>
        </a>
        <a href="subsect3">
            <h5>Average</h5>
        </a>
        <a href="subsect4">
            <h5>Median</h5>
        </a>
        <a href="subsect5">
            <h5>Mode</h5>
        </a>
    </p>
    <p><a href="#sect2">
            <h3>2. Proc Compare</h3>
        </a></p>
    <p><a href="#sect3">
            <h3>3. Proc Freq</h3>
        </a></p>
    <p><a href="#sect4">
            <h3>4. Proc Sql & convention</h3>
        </a></p>
    <p><a href="#sect5">
            <h3>5. Proc Sort</h3>
        </a></p>
    <p><a name="sect1"></a></p>
    <p><a href="#sect6">
            <h3>6. Exercises</h3>
        </a></p>
    <p><a href="#sect7">
            <h3>7. Resources</h3>
        </a></p>
    <br>
    <h1>1. Proc Means</h1>
    <p>is one of the most common SAS procedure used for analyzing data. It is mainly
        used to calculate descriptive statistics such as mean, median, count, sum etc. Syntax:<br>
        <strong><i>PROC MEANS <options>
                    <statistic-keyword(s)>;</i></strong><br>
        Statistic-keywords:
        specifies which statistics to compute and the order to display them in the output.
        The available keywords in the PROC statement are:
    </p>
    <table>
        <tr>
            <td>All fields are key</td>
        </tr>
        <tr>
            <td>CLM</td>
            <td>NMISS</td>
        </tr>
        <tr>
            <td>CSS</td>
            <td>RANGE</td>
        </tr>
        <tr>
            <td>CV</td>
            <td>SKEWNESS | SKEW</td>
        </tr>
        <tr>
            <td>KURTOSIS | KURT</td>
            <td>STDDEV | STD</td>
        </tr>
        <tr>
            <td>LCLM</td>
            <td>STDERR</td>
        </tr>
        <tr>
            <td>MAX</td>
            <td>SUM</td>
        </tr>
        <tr>
            <td>MEAN</td>
            <td>SUMWGT</td>
        </tr>
        <tr>
            <td>MIN</td>
            <td>UCLM</td>
        </tr>
        <tr>
            <td>MODE</td>
            <td>USS</td>
        </tr>
        <tr>
            <td>N</td>
            <td>VAR</td>
        </tr>
        <p><a name="subsect1"></a></p>
        <tr>
            <td>MEDIAN | P50</td>
            <td>Q3 | P75</td>
        </tr>
    </table>
    <br>
    <h5><strong>Proc Means default output:</strong></h5>
    <p>By default the proc means gives N, MEAN, STD, MIN, and MAX as the output.
    </p>
    <pre id="area 1"><code><code><div class="codice">PROC MEANS DATA=TUTORIAL.terna_test18;
RUN;<button id="button">copy</button></div></code></code></pre>
    <p>
    <p><a name="subsect2"></a></p>
    <center><img src="/screenshots/05_proc/Default uscite Proc Means.jpg" alt="Default uscite Proc Means.jpg">
    </center>
    </p>
    <h5><strong>Sum:</strong></h5>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 SUM;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/Somma tutti.jpg" alt="Somma tutti.jpg"></center>
    </p>
    <p>If we want a specific variable to sum, we have to do this</p>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 SUM;
VAR Biomass;
RUN;</div></code></code></pre>
    <p>
    <p><a name="subsect3"></a></p>
    <center><img src="/screenshots/05_proc/Somma specifica.jpg" alt="Somma specifica.jpg"></center>
    </p>
    <h5><strong>Average:</strong></h5>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MEAN;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/Media_tutti ProcMeans.jpg" alt="Media_tutti ProcMeans.jpg"></center>
    </p>
    <p>If we want a specific variable statistics, we have to do this</p>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MEAN;
VAR Biomass;
RUN;</div></code></code></pre>
    <p>
    <p><a name="subsect4"></a></p>
    <center><img src="/screenshots/05_proc/mediaSingolaProcMeans.jpg" alt="mediaSingolaProcMeans.jpg"></center>
    </p>
    <h5><strong>Median:</strong></h5>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MEDIAN;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/MedianaTuttiProcMeans.jpg" alt="MedianaTuttiProcMeans.jpg"></center>
    </p>
    <p>If we want a specific variable statistics, we have to do this</p>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MEDIAN;
VAR Biomass;
RUN;</div></code></code></pre>
    <p>
    <p><a name="subsect5"></a></p>
    <center><img src="/screenshots/05_proc/MedianaSingolaProcMeans.jpg" alt="MedianaSingolaProcMeans.jpg"></center>
    </p>
    <h5><strong>Mode:</strong></h5>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MODE;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/ModaTuttiProcMeansù.jpg" alt="ModaTuttiProcMeansù.jpg"></center>
    </p>
    <p>If we want a specific variable statistics, we have to do this</p>
    <pre><code><code><div>PROC MEANS DATA=TUTORIAL.terna_test18 MODE;
VAR Hydro;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/ModaSingolaProcMeans.jpg" alt="ModaSingolaProcMeans.jpg"></center>
    </p>
    <p><a name="sect2"></a></p>
    <p>Other parameters will be explained in <a href="https://sastutorials.github.io/tutorials/basic_stats" target = "_blank" class="colori"><strong>basic statistical procedures</strong></a> tutorial.</p>
    <br>
    <h1>2. Proc Compare</h1>
    <p>PROC COMPARE compares two data sets: the <strong>base</strong> data set and the <strong>comparison</strong> data
        set. The procedure determines
        matching variables and matching observations. Matching variables are variables with the same name or variables
        that you pair by using the VAR and WITH statements. Matching variables must be of the same type. Matching
        observations
        are observations that have the same values for all ID variables that you specify or, if you do not use the ID
        statement,
        that occur in the same position in the data sets. If you match observations by ID variables, then both data sets
        must
        be sorted by all ID variables.
    </p>
    <pre><code><code><div>PROC COMPARE BASE=TUTORIAL.terna_test18
COMPARE=TUTORIAL.terna_test19 
NOVALUES; 
RUN;</div></code></code></pre>
    <p>First, you will see the dataset summary which compares the structure or “metadata” of a dataset including the
        names, created dates,
        modified dates, number of variables, number of observations and any labels:<br>
        <center><img src="/screenshots/05_proc/ProcCompareRes1.jpg" alt="ProcCompareRes1.jpg"></center>
    </p>
    <p>The next section is the Variable Summary, which summarizes how many variables are found in both datasets
        (i.e. the variables in common) and how many variables are in one dataset but not the other.
        <center><img src="/screenshots/05_proc/ProcCompareRes2.jpg" alt="ProcCompareRes2.jpg"></center>
    </p>
    <p>The third section is the Observation Summary, which summarizes how many observations are in each dataset
        and how many have equal or unequal values in some of the variables:
        <center><img src="/screenshots/05_proc/ProcCompareRes3.jpg" alt="ProcCompareRes3.jpg"></center>
    </p>
    <p>The fourth section is the Values Comparison summary, which lets you know how many different variables
        were found that had either all values exactly equal or had or some non-matching values:
        <center><img src="/screenshots/05_proc/ProcCompareRes4.jpg" alt="ProcCompareRes4.jpg"></center>
    </p>
    <p>With large datasets, the Value Comparison Results (the final summary) can become quite lengthy
        when you are comparing many variables. Fortunately, you can limit the comparison to a list of variables
        that you specify.<br>
        For example, if you would only like the details of the age variable, you can use the VAR option to specify
        the variable ‘BioMass’ as follows:
    </p>
    <pre><code><code><div>PROC COMPARE BASE = TUTORIAL. terna_test18
COMPARE = TUTORIAL.terna_test19 novalues;
VAR Biomass;
RUN;</div></code></code></pre>
    <p>
        <center><img src="/screenshots/05_proc/ProcCompareListVarRes.jpg" alt="ProcCompareListVarRes.jpg"></center>
    </p>
    <p><a name="sect3"></a></p>
    <br>
    <br>
    <h1>3. Proc Freq</h1>
    <p>Categorical variables can be summarized using a frequency table, which shows the number and percentage of
        cases observed for each category of a variable. In this tutorial, we will show how to use the SAS procedure
        PROC FREQ to create frequency tables that summarize individual categorical variables.
    </p>
    <p><a name="sect4"></a></p>
    <pre><code><code><div>PROC FREQ DATA=TUTORIAL.terna_test20;
RUN;</div></code></code></pre>
    <br>
    <h1>4. Proc Sql & convention</h1>
    <p><i>If you already know SQL language, this paragraph is made for you and you will see how to use SQL in SAS.
            If you don't know it, go to this <a href="https://www.w3schools.com/sql/" target="_blank" class="colori">link</a> and start
            learning it.</i></p>
    <p><i>Since you now know what it is, let's get started!</i></p>
    <p>The SAS SQL procedure enables you to:<br>
        • retrieve and manipulate data that is stored in tables or views;<br>
        • create tables, views, and indexes on columns in tables;<br>
        • create SAS macro variables that contain values from rows in a query’s result.<br>
        • add or modify the data values in a table’s columns or insert and delete rows. You
        can also modify the table itself by adding, modifying, or dropping columns;<br>
        • send DBMS-specific SQL statements to a database management system (DBMS).
        and retrieve DBMS<br>
    </p>
    <h5>The syntax of the Proc Sql is:</h5>
    <p><strong>PROC SQL</strong> options;<br>
        <strong>SELECT</strong> column(s)<br>
        <strong>FROM</strong> table-name | view-name<br>
        <strong>WHERE</strong> expression<br>
        <strong>GROUP BY</strong> column(s)<br>
        <strong>HAVING</strong> expression<br>
        <strong>ORDER BY</strong> column(s);<br>
        <strong>QUIT;</strong>
    </p>
    <p><i>We can omit some of these</i><br></p>
    <p><strong>Let's see what we can do with this procedure, but more importantly, how we can do it...
            and some characteristics</strong><br>
    <ul>
        <li>
            When a PROC SQL statement is executed, PROC SQL continues to run until a
            QUIT statement.
        </li>
        <li>Every PROC SQL query must have at least one SELECT
            statement. The purpose of the SELECT statement is to name the
            columns that will appear on the report and the order in which they
            will appear.
        </li>
        <li>To specify that only certain variables should appear on the report,
            the variables are listed and separated on the SELECT statement.
            The SELECT statement does NOT limit the number of variables
            read. The NUMBER option will print a column on the report
            labeled 'ROW' which contains the observation number.<br>
            <i>Let'see an example:</i><br>
            <pre><code><code><div>PROC SQL NUMBER;
SELECT Biomass
FROM TUTORIAL.terna_test20;
QUIT;</div></code></code></pre>
            <center><img src="/screenshots/05_proc/SQL SENZANUMBER.jpg"></center><br>
            Alternatively, this would have been the case:<br>
            <pre><code><code><div>PROC SQL;
SELECT Biomass
FROM TUTORIAL.terna_test20;
QUIT;</div></code></code></pre>
            <center><img src="/screenshots/05_proc/SQL CON NUMBER.jpg"></center><br>

        </li>
        <li>The CASE Expression allows conditional processing:
            <pre><code><code><div>PROC SQL;
SELECT Biomass,
CASE
WHEN Biomass<=1.5 THEN '1'
WHEN Biomass<=2 THEN '2'
WHEN Biomass>2 THEN '3'
ELSE 'NOT'
END AS Group
FROM TUTORIAL.terna_test18;
QUIT;</div></code></code></pre>
            <center><img src="/screenshots/05_proc/CASESQL.jpg"></center>
        </li>
        <p><a name="sect5"></a></p>
        <li>The ORDER BY clause will return the data in sorted order: Much
            like PROC SORT, if the data is already in sorted order, PROC
            SQL will print a message in the LOG stating the sorting utility was
            not used.<br>
            <pre><code><code><div>PROC SQL;
SELECT *
FROM TUTORIAL.terna_test18
ORDER BY Hydro;
QUIT;</div></code></code></pre>
            <center><img src="/screenshots/05_proc/orderby.jpg"></center>
        </li>
    </ul>
    <br>You want other examples? Go
    <a href="https://support.sas.com/resources/papers/proceedings/proceedings/sugi27/p191-27.pdf"
        target="_blank" class="colori"><strong>here</strong></a>
    </p>
    <br>
    <h1>5. Proc Sort</h1>
    <p>The SORT procedure orders SAS data set observations by the values of one or
        more character or numeric variables. The SORT procedure either replaces the
        original data set or creates a new data set. PROC SORT produces only an output data set.
    </p>
    <p>Let's go to examples:</p>
    <pre><code><code><div>PROC SORT DATA=TUTORIAL.terna_test19;
BY Photovoltaic;
RUN;</div></code></code></pre>
    <h6><strong>BEFORE</strong></h6>
    <p>
        <center><img src="/screenshots/05_proc/SORT-PRIMA.jpg" class="correction"></center>
    </p>
    <h6><strong>AFTER</strong></h6>
    <p>
        <center><img src="/screenshots/05_proc/SORT-DOPO.jpg" class="correction"></center>
    </p>
    <p>There are numerous other attributes for this procedure:</p>
    <table>
        <tr>
            <td><strong>SORTSEQ=</strong></td>
            <td>Specify any of the collating sequences listed
                above (ASCII, EBCDIC, DANISH, FINNISH,
                ITALIAN, NORWEGIAN, POLISH, SPANISH,
                SWEDISH, or NATIONAL), the name of any
                other system provided translation table
                (POLISH, SPANISH), and the name of a
                user-created translation table. You can specify
                an encoding. You can also specify either the
                keyword LINGUISTIC or UCA to achieve a
                locale appropriate collating sequence</td>
        </tr>
        <tr>
            <td><strong>DATA=</strong></td>
            <td>Specify the input data set</td>
        </tr>
        <tr>
            <td><strong>DATECOPY</strong></td>
            <td>Sort a SAS data set without changing the created and
                modified dates</td>
        </tr>
        <tr>
            <td><strong>OUT=</strong></td>
            <td>Specifies the output data set</td>
        </tr>
        <tr>
            <td><strong>DUPOUT=</strong></td>
            <td>Specifies the output data set to which duplicate
                observations are written</td>
        </tr>
        <tr>
            <td><strong>EQUALS</strong></td>
            <td>Maintain relative order within BY groups</td>
        </tr>
        <tr>
            <td><strong>NOEQUALS</strong></td>
            <td>Do not maintain relative order within BY groups</td>
        </tr>
        <tr>
            <td><strong>NODUPKEY</strong></td>
            <td>Delete observations with duplicate BY values</td>
        </tr>
        <tr>
            <td><strong>NODUPRECS</strong></td>
            <td>Delete duplicate observations</td>
        </tr>
        <tr>
            <td><strong>OVERWRITE</strong></td>
            <td>Delete the input data set before the replacement
                output data set is populated</td>
        </tr>
        <tr>
            <td><strong>PRESORTED</strong></td>
            <td>Specify whether or not the data set is likely already
                sorted</td>
        </tr>
        <tr>
            <td><strong>REVERSE</strong></td>
            <td>Reverse the collation order for character
                variables</td>
        </tr>
        <tr>
            <td><strong>SORTSIZE=</strong></td>
            <td>Specify the available memory</td>
        </tr>
        <tr>
            <td><strong>FORCE</strong></td>
            <td>Force redundant sorting</td>
        </tr>
        <tr>
            <td><strong>TAGSORT</strong></td>
            <td>Reduce temporary disk usage</td>
        </tr>
    </table>
    <p><a name="sect6"></a></p>
    <br>
    <h1>6. Exercises</h1>
    <p>As we have not used some datasets, we are now going to check what you have actually 
        learnt! below you will find exercises such as: <br>
       <strong> name of the procedure: <br>
        result to be obtained</strong>,<br>
        so that you can check that you have done the task correctly.
    </p>
    <p><a name="sect7"></a></p>
    <br>
    <h1>7. Resources</h1>
    <p>
    <ul>
        <li><a href="https://www.w3schools.com/sql/" target="_blank" class="colori">SQL tutorial</a></li>
    </ul>
    </p>

</html>